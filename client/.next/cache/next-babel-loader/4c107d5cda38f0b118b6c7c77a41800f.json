{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Sarthak\\\\YT_Workflow_Cloud\\\\client\\\\components\\\\WorkflowTitle.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRef, useState, useEffect } from 'react';\nimport styles from '../styles/scss/workflow-title.module.scss';\nimport { useSelector } from 'react-redux';\n\nvar WorkflowTitle = function WorkflowTitle(_ref) {\n  _s();\n\n  var oldTitle = _ref.oldTitle,\n      id = _ref.id;\n  var titleInput = useRef(null);\n  var jwtToken = useSelector(function (state) {\n    return state.jwtToken;\n  }); // const [ title, setTitle ] = useState(oldTitle);\n\n  var pushTitleChangeToBackend = function pushTitleChangeToBackend() {\n    fetch(\"http://localhost:8000/set-workflow-title/\".concat(id), {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + jwtToken\n      },\n      body: JSON.stringify({\n        title: titleInput.current.value\n      })\n    });\n  };\n\n  var handleChange = function handleChange() {\n    if (titleInput.current.value !== oldTitle) {\n      pushTitleChangeToBackend();\n    }\n  };\n\n  var changeWidth = function changeWidth() {\n    titleInput.current.style.width = ((titleInput.current.value.length + 1) * 10.3).toString() + 'px';\n    console.log(((titleInput.current.value.length + 1) * 8).toString() + 'px');\n  };\n\n  return (// <h2\n    // \tcontentEditable=\"plaintext-only\"\n    // \tref={titleInput}\n    // \tclassName={styles.titleInput}\n    // \tonBlur={handleChange}\n    // \ttabIndex={0}\n    // >\n    // \t{oldTitle ? oldTitle : 'Create title'}\n    // </h2>\n    __jsx(\"input\", {\n      ref: titleInput,\n      className: styles.titleInput,\n      onBlur: handleChange,\n      tabIndex: 0,\n      defaultValue: oldTitle ? oldTitle : 'Create title',\n      onKeyPress: changeWidth,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 3\n      }\n    })\n  );\n};\n\n_s(WorkflowTitle, \"dHkEWscHzhKo9GqhzI6IaZB4HLI=\", false, function () {\n  return [useSelector];\n});\n\n_c = WorkflowTitle;\nexport default WorkflowTitle;\n\nvar _c;\n\n$RefreshReg$(_c, \"WorkflowTitle\");","map":{"version":3,"sources":["C:/Sarthak/YT_Workflow_Cloud/client/components/WorkflowTitle.js"],"names":["useRef","useState","useEffect","styles","useSelector","WorkflowTitle","oldTitle","id","titleInput","jwtToken","state","pushTitleChangeToBackend","fetch","method","headers","Authorization","body","JSON","stringify","title","current","value","handleChange","changeWidth","style","width","length","toString","console","log"],"mappings":";;;;;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,2CAAnB;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAsB;AAAA;;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAAA,MAATC,EAAS,QAATA,EAAS;AAC3C,MAAMC,UAAU,GAAGR,MAAM,CAAC,IAAD,CAAzB;AACA,MAAMS,QAAQ,GAAGL,WAAW,CAAC,UAACM,KAAD;AAAA,WAAWA,KAAK,CAACD,QAAjB;AAAA,GAAD,CAA5B,CAF2C,CAG3C;;AAEA,MAAME,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AACtCC,IAAAA,KAAK,oDAA6CL,EAA7C,GAAmD;AACvDM,MAAAA,MAAM,EAAE,KAD+C;AAEvDC,MAAAA,OAAO,EAAE;AACR,wBAAgB,kBADR;AAERC,QAAAA,aAAa,EAAE,YAAYN;AAFnB,OAF8C;AAMvDO,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBC,QAAAA,KAAK,EAAEX,UAAU,CAACY,OAAX,CAAmBC;AADN,OAAf;AANiD,KAAnD,CAAL;AAUA,GAXD;;AAaA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B,QAAId,UAAU,CAACY,OAAX,CAAmBC,KAAnB,KAA6Bf,QAAjC,EAA2C;AAC1CK,MAAAA,wBAAwB;AACxB;AACD,GAJD;;AAMA,MAAMY,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzBf,IAAAA,UAAU,CAACY,OAAX,CAAmBI,KAAnB,CAAyBC,KAAzB,GAAiC,CAAC,CAACjB,UAAU,CAACY,OAAX,CAAmBC,KAAnB,CAAyBK,MAAzB,GAAkC,CAAnC,IAAwC,IAAzC,EAA+CC,QAA/C,KAA4D,IAA7F;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAC,CAACrB,UAAU,CAACY,OAAX,CAAmBC,KAAnB,CAAyBK,MAAzB,GAAkC,CAAnC,IAAwC,CAAzC,EAA4CC,QAA5C,KAAyD,IAArE;AACA,GAHD;;AAKA,SACC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,MAAA,GAAG,EAAEnB,UADN;AAEC,MAAA,SAAS,EAAEL,MAAM,CAACK,UAFnB;AAGC,MAAA,MAAM,EAAEc,YAHT;AAIC,MAAA,QAAQ,EAAE,CAJX;AAKC,MAAA,YAAY,EAAEhB,QAAQ,GAAGA,QAAH,GAAc,cALrC;AAMC,MAAA,UAAU,EAAEiB,WANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVD;AAmBA,CAhDD;;GAAMlB,a;UAEYD,W;;;KAFZC,a;AAkDN,eAAeA,aAAf","sourcesContent":["import { useRef, useState, useEffect } from 'react';\r\nimport styles from '../styles/scss/workflow-title.module.scss';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst WorkflowTitle = ({ oldTitle, id }) => {\r\n\tconst titleInput = useRef(null);\r\n\tconst jwtToken = useSelector((state) => state.jwtToken);\r\n\t// const [ title, setTitle ] = useState(oldTitle);\r\n\r\n\tconst pushTitleChangeToBackend = () => {\r\n\t\tfetch(`http://localhost:8000/set-workflow-title/${id}`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + jwtToken\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttitle: titleInput.current.value\r\n\t\t\t})\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleChange = () => {\r\n\t\tif (titleInput.current.value !== oldTitle) {\r\n\t\t\tpushTitleChangeToBackend();\r\n\t\t}\r\n\t};\r\n\r\n\tconst changeWidth = () => {\r\n\t\ttitleInput.current.style.width = ((titleInput.current.value.length + 1) * 10.3).toString() + 'px';\r\n\t\tconsole.log(((titleInput.current.value.length + 1) * 8).toString() + 'px');\r\n\t};\r\n\r\n\treturn (\r\n\t\t// <h2\r\n\t\t// \tcontentEditable=\"plaintext-only\"\r\n\t\t// \tref={titleInput}\r\n\t\t// \tclassName={styles.titleInput}\r\n\t\t// \tonBlur={handleChange}\r\n\t\t// \ttabIndex={0}\r\n\t\t// >\r\n\t\t// \t{oldTitle ? oldTitle : 'Create title'}\r\n\t\t// </h2>\r\n\t\t<input\r\n\t\t\tref={titleInput}\r\n\t\t\tclassName={styles.titleInput}\r\n\t\t\tonBlur={handleChange}\r\n\t\t\ttabIndex={0}\r\n\t\t\tdefaultValue={oldTitle ? oldTitle : 'Create title'}\r\n\t\t\tonKeyPress={changeWidth}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default WorkflowTitle;\r\n"]},"metadata":{},"sourceType":"module"}