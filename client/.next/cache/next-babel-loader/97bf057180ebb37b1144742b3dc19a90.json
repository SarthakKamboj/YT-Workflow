{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Sarthak\\\\YT_Workflow_Cloud\\\\client\\\\pages\\\\dashboard\\\\statistics.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styles from '../../styles/scss/statistics.module.scss';\nimport classnames from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setProfileImage } from '../../components/actions/profileImageActions';\nimport { setProfileName } from '../../components/actions/profileNameActions';\nimport DashboardMenu from '../../components/DashboardMenu'; // import Chart from 'chart.js';\n// import { Bar, Line, Pie, Doughnut } from 'react-chartjs-2';\n\nimport { useRef, useState, useEffect } from 'react';\nimport DonutChart from '../../components/DonutChart';\nimport BarChart from '../../components/BarChart';\nimport PieChart from '../../components/PieChart';\nimport PolarChart from '../../components/PolarChart';\nimport LineChart from '../../components/LineChart';\n\nvar Dashboard = function Dashboard() {\n  _s();\n\n  var jwt = useSelector(function (state) {\n    return state.jwtToken;\n  });\n\n  var _useState = useState(),\n      userFilesBreakdown = _useState[0],\n      setUserFilesBreakdown = _useState[1];\n\n  var _useState2 = useState(),\n      userFilesLabels = _useState2[0],\n      setUserFilesLabels = _useState2[1];\n\n  var _useState3 = useState(),\n      userStarredWorkflows = _useState3[0],\n      setUserStarredWorkflows = _useState3[1];\n\n  var _useState4 = useState(),\n      userStarredLabels = _useState4[0],\n      setUserStarredLabels = _useState4[1];\n\n  var _useState5 = useState(),\n      userFinishedWorkflows = _useState5[0],\n      setUserFinishedWorkflows = _useState5[1];\n\n  var _useState6 = useState(),\n      userFinishedLabels = _useState6[0],\n      setUserFinishedLabels = _useState6[1];\n\n  var _useState7 = useState(),\n      userOriginalSharedWorkflows = _useState7[0],\n      setUserOriginalSharedWorkflows = _useState7[1];\n\n  var _useState8 = useState(),\n      userOriginalSharedLabels = _useState8[0],\n      setUserOriginalSharedLabels = _useState8[1];\n\n  var _useState9 = useState(),\n      descriptionData = _useState9[0],\n      setDescriptionData = _useState9[1];\n\n  var _useState10 = useState(),\n      descriptionLabels = _useState10[0],\n      setDescriptionLabels = _useState10[1];\n\n  var capitalize = function capitalize(str) {\n    return str.slice(0, 1).toUpperCase() + str.slice(1);\n  };\n\n  var fetchFileBreakdown = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, resJson, info;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:8000/workflows-file-breakdown', {\n                headers: {\n                  'Content-Type': 'application/json',\n                  Authorization: 'Bearer ' + jwt\n                }\n              });\n\n            case 2:\n              res = _context.sent;\n\n              if (!(res.status === 200)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 6;\n              return res.json();\n\n            case 6:\n              resJson = _context.sent;\n              info = resJson['msg'];\n              setUserFilesLabels(Object.keys(info).map(function (label) {\n                return capitalize(label);\n              }));\n              setUserFilesBreakdown(Object.values(info));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchFileBreakdown() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var fetchFinishedBreakdown = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res, resJson, info;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch('http://localhost:8000/workflows-finished-data', {\n                headers: {\n                  'Content-Type': 'application/json',\n                  Authorization: 'Bearer ' + jwt\n                }\n              });\n\n            case 2:\n              res = _context2.sent;\n\n              if (!(res.status === 200)) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 6;\n              return res.json();\n\n            case 6:\n              resJson = _context2.sent;\n              info = resJson['msg'];\n              setUserFinishedLabels(Object.keys(info).map(function (label) {\n                return capitalize(label);\n              }));\n              setUserFinishedWorkflows(Object.values(info));\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function fetchFinishedBreakdown() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var fetchStarredBreakdown = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res, resJson, info;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return fetch('http://localhost:8000/workflows-starred-data', {\n                headers: {\n                  'Content-Type': 'application/json',\n                  Authorization: 'Bearer ' + jwt\n                }\n              });\n\n            case 2:\n              res = _context3.sent;\n\n              if (!(res.status === 200)) {\n                _context3.next = 10;\n                break;\n              }\n\n              _context3.next = 6;\n              return res.json();\n\n            case 6:\n              resJson = _context3.sent;\n              info = resJson['msg'];\n              setUserStarredLabels(Object.keys(info).map(function (label) {\n                return capitalize(label);\n              }));\n              setUserStarredWorkflows(Object.values(info));\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function fetchStarredBreakdown() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var fetchSharedOriginal = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res, resJson, info;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return fetch('http://localhost:8000/workflows-original-shared-data', {\n                headers: {\n                  'Content-Type': 'application/json',\n                  Authorization: 'Bearer ' + jwt\n                }\n              });\n\n            case 2:\n              res = _context4.sent;\n\n              if (!(res.status === 200)) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 6;\n              return res.json();\n\n            case 6:\n              resJson = _context4.sent;\n              info = resJson['msg'];\n              setUserOriginalSharedLabels(Object.keys(info).map(function (label) {\n                return capitalize(label);\n              }));\n              setUserOriginalSharedWorkflows(Object.values(info));\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function fetchSharedOriginal() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var fetchDescriptionData = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var res, resJson, info;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return fetch('http://localhost:8000/workflows-description-data', {\n                headers: {\n                  'Content-Type': 'application/json',\n                  Authorization: 'Bearer ' + jwt\n                }\n              });\n\n            case 2:\n              res = _context5.sent;\n\n              if (!(res.status === 200)) {\n                _context5.next = 10;\n                break;\n              }\n\n              _context5.next = 6;\n              return res.json();\n\n            case 6:\n              resJson = _context5.sent;\n              info = resJson['msg'];\n              setDescriptionLabels(Object.keys(info).map(function (label) {\n                return new Date(label);\n              }));\n              setDescriptionData(Object.values(info));\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function fetchDescriptionData() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchFileBreakdown();\n    fetchFinishedBreakdown();\n    fetchStarredBreakdown();\n    fetchSharedOriginal();\n    fetchDescriptionData();\n  }, []); // const fileBreakdownChart = (canvas) => {\n  // \t// const ctx = canvas.getContext('2d');\n  // \treturn {\n  // \t\tlabels: userFilesLabels,\n  // \t\tdatasets: [\n  // \t\t\t{\n  // \t\t\t\t// label: 'File Breakdown',\n  // \t\t\t\tdata: userFilesBreakdown,\n  // \t\t\t\tbackgroundColor: [ '#DC1C13', '#F1959B', '#EA4C46', '#F07470' ],\n  // \t\t\t\tborderWidth: 2,\n  // \t\t\t\thoverBorderColor: 'black',\n  // \t\t\t\tborderColor: 'white'\n  // \t\t\t}\n  // \t\t]\n  // \t};\n  // };\n  // const starredBreakdownChart = (canvas) => {\n  // \t// const ctx = canvas.getContext('2d');\n  // \tcanvas.style.width = '50%';\n  // \tcanvas.style.height = '45%';\n  // \treturn {\n  // \t\tlabels: userStarredLabels,\n  // \t\tdatasets: [\n  // \t\t\t{\n  // \t\t\t\t// label: 'File Breakdown',\n  // \t\t\t\tdata: userStarredWorkflows,\n  // \t\t\t\tbackgroundColor: [ '#DC1C13', '#F1959B' ],\n  // \t\t\t\tborderWidth: 2,\n  // \t\t\t\thoverBorderColor: 'black',\n  // \t\t\t\tborderColor: 'white',\n  // \t\t\t\tlabel: 'Hi'\n  // \t\t\t}\n  // \t\t]\n  // \t};\n  // };\n  // const finishedBreakdownChart = (canvas) => {\n  // \t// const ctx = canvas.getContext('2d');\n  // \tcanvas.style.width = '50%';\n  // \tcanvas.style.height = '45%';\n  // \treturn {\n  // \t\tlabels: userFinishedLabels,\n  // \t\tdatasets: [\n  // \t\t\t{\n  // \t\t\t\tdata: userFinishedWorkflows,\n  // \t\t\t\tbackgroundColor: [ '#DC1C13', '#F1959B' ],\n  // \t\t\t\tborderWidth: 2,\n  // \t\t\t\thoverBorderColor: 'black',\n  // \t\t\t\tborderColor: 'white',\n  // \t\t\t\tlabel: 'Hi'\n  // \t\t\t}\n  // \t\t]\n  // \t};\n  // };\n\n  return __jsx(\"main\", {\n    className: styles.statisticsContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 3\n    }\n  }, __jsx(\"div\", {\n    className: styles.dashboardMenuContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 4\n    }\n  }, __jsx(DashboardMenu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  })), __jsx(\"div\", {\n    className: styles.statisticsSection,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 4\n    }\n  }, __jsx(\"div\", {\n    className: styles.chart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  }, __jsx(DonutChart, {\n    labels: userFilesLabels,\n    breakdown: userFilesBreakdown,\n    chartTitle: 'File Breakdown',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 6\n    }\n  })), __jsx(\"div\", {\n    className: styles.chart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 5\n    }\n  }, __jsx(BarChart, {\n    labels: userFinishedLabels,\n    breakdown: userFinishedWorkflows,\n    chartTitle: 'Finished vs. Unfinished',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 6\n    }\n  })), __jsx(\"div\", {\n    className: styles.chart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, __jsx(LineChart, {\n    labels: descriptionLabels,\n    breakdown: descriptionData,\n    chartTitle: 'Length of Descriptions',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 6\n    }\n  })), __jsx(\"div\", {\n    className: styles.chart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, __jsx(PieChart, {\n    labels: userStarredLabels,\n    breakdown: userStarredWorkflows,\n    chartTitle: 'Starred vs. Unstarred',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 6\n    }\n  })), __jsx(\"div\", {\n    className: styles.chart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }\n  }, __jsx(PolarChart, {\n    labels: userOriginalSharedLabels,\n    breakdown: userOriginalSharedWorkflows,\n    chartTitle: 'Your Workflows vs. Shared Workflows',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 6\n    }\n  }))));\n};\n\n_s(Dashboard, \"A50am/SX7luvgei1+1hwatzFzkM=\", false, function () {\n  return [useSelector];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["C:/Sarthak/YT_Workflow_Cloud/client/pages/dashboard/statistics.js"],"names":["styles","classnames","useSelector","useDispatch","setProfileImage","setProfileName","DashboardMenu","useRef","useState","useEffect","DonutChart","BarChart","PieChart","PolarChart","LineChart","Dashboard","jwt","state","jwtToken","userFilesBreakdown","setUserFilesBreakdown","userFilesLabels","setUserFilesLabels","userStarredWorkflows","setUserStarredWorkflows","userStarredLabels","setUserStarredLabels","userFinishedWorkflows","setUserFinishedWorkflows","userFinishedLabels","setUserFinishedLabels","userOriginalSharedWorkflows","setUserOriginalSharedWorkflows","userOriginalSharedLabels","setUserOriginalSharedLabels","descriptionData","setDescriptionData","descriptionLabels","setDescriptionLabels","capitalize","str","slice","toUpperCase","fetchFileBreakdown","fetch","headers","Authorization","res","status","json","resJson","info","Object","keys","map","label","values","fetchFinishedBreakdown","fetchStarredBreakdown","fetchSharedOriginal","fetchDescriptionData","Date","statisticsContainer","dashboardMenuContainer","statisticsSection","chart"],"mappings":"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","sourcesContent":["import styles from '../../styles/scss/statistics.module.scss';\r\nimport classnames from 'classnames';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setProfileImage } from '../../components/actions/profileImageActions';\r\nimport { setProfileName } from '../../components/actions/profileNameActions';\r\nimport DashboardMenu from '../../components/DashboardMenu';\r\n// import Chart from 'chart.js';\r\n// import { Bar, Line, Pie, Doughnut } from 'react-chartjs-2';\r\nimport { useRef, useState, useEffect } from 'react';\r\nimport DonutChart from '../../components/DonutChart';\r\nimport BarChart from '../../components/BarChart';\r\nimport PieChart from '../../components/PieChart';\r\nimport PolarChart from '../../components/PolarChart';\r\nimport LineChart from '../../components/LineChart';\r\n\r\nconst Dashboard = () => {\r\n\tconst jwt = useSelector((state) => state.jwtToken);\r\n\tconst [ userFilesBreakdown, setUserFilesBreakdown ] = useState();\r\n\tconst [ userFilesLabels, setUserFilesLabels ] = useState();\r\n\r\n\tconst [ userStarredWorkflows, setUserStarredWorkflows ] = useState();\r\n\tconst [ userStarredLabels, setUserStarredLabels ] = useState();\r\n\r\n\tconst [ userFinishedWorkflows, setUserFinishedWorkflows ] = useState();\r\n\tconst [ userFinishedLabels, setUserFinishedLabels ] = useState();\r\n\r\n\tconst [ userOriginalSharedWorkflows, setUserOriginalSharedWorkflows ] = useState();\r\n\tconst [ userOriginalSharedLabels, setUserOriginalSharedLabels ] = useState();\r\n\r\n\tconst [ descriptionData, setDescriptionData ] = useState();\r\n\tconst [ descriptionLabels, setDescriptionLabels ] = useState();\r\n\r\n\tconst capitalize = (str) => {\r\n\t\treturn str.slice(0, 1).toUpperCase() + str.slice(1);\r\n\t};\r\n\r\n\tconst fetchFileBreakdown = async () => {\r\n\t\tconst res = await fetch('http://localhost:8000/workflows-file-breakdown', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + jwt\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst resJson = await res.json();\r\n\t\t\tconst info = resJson['msg'];\r\n\r\n\t\t\tsetUserFilesLabels(Object.keys(info).map((label) => capitalize(label)));\r\n\t\t\tsetUserFilesBreakdown(Object.values(info));\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchFinishedBreakdown = async () => {\r\n\t\tconst res = await fetch('http://localhost:8000/workflows-finished-data', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + jwt\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst resJson = await res.json();\r\n\t\t\tconst info = resJson['msg'];\r\n\r\n\t\t\tsetUserFinishedLabels(Object.keys(info).map((label) => capitalize(label)));\r\n\t\t\tsetUserFinishedWorkflows(Object.values(info));\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchStarredBreakdown = async () => {\r\n\t\tconst res = await fetch('http://localhost:8000/workflows-starred-data', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + jwt\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst resJson = await res.json();\r\n\t\t\tconst info = resJson['msg'];\r\n\r\n\t\t\tsetUserStarredLabels(Object.keys(info).map((label) => capitalize(label)));\r\n\t\t\tsetUserStarredWorkflows(Object.values(info));\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchSharedOriginal = async () => {\r\n\t\tconst res = await fetch('http://localhost:8000/workflows-original-shared-data', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + jwt\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst resJson = await res.json();\r\n\t\t\tconst info = resJson['msg'];\r\n\r\n\t\t\tsetUserOriginalSharedLabels(Object.keys(info).map((label) => capitalize(label)));\r\n\t\t\tsetUserOriginalSharedWorkflows(Object.values(info));\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchDescriptionData = async () => {\r\n\t\tconst res = await fetch('http://localhost:8000/workflows-description-data', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: 'Bearer ' + jwt\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (res.status === 200) {\r\n\t\t\tconst resJson = await res.json();\r\n\t\t\tconst info = resJson['msg'];\r\n\r\n\t\t\tsetDescriptionLabels(Object.keys(info).map((label) => new Date(label)));\r\n\t\t\tsetDescriptionData(Object.values(info));\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchFileBreakdown();\r\n\t\tfetchFinishedBreakdown();\r\n\t\tfetchStarredBreakdown();\r\n\t\tfetchSharedOriginal();\r\n\t\tfetchDescriptionData();\r\n\t}, []);\r\n\r\n\t// const fileBreakdownChart = (canvas) => {\r\n\t// \t// const ctx = canvas.getContext('2d');\r\n\t// \treturn {\r\n\t// \t\tlabels: userFilesLabels,\r\n\t// \t\tdatasets: [\r\n\t// \t\t\t{\r\n\t// \t\t\t\t// label: 'File Breakdown',\r\n\t// \t\t\t\tdata: userFilesBreakdown,\r\n\t// \t\t\t\tbackgroundColor: [ '#DC1C13', '#F1959B', '#EA4C46', '#F07470' ],\r\n\t// \t\t\t\tborderWidth: 2,\r\n\t// \t\t\t\thoverBorderColor: 'black',\r\n\t// \t\t\t\tborderColor: 'white'\r\n\t// \t\t\t}\r\n\t// \t\t]\r\n\t// \t};\r\n\t// };\r\n\r\n\t// const starredBreakdownChart = (canvas) => {\r\n\t// \t// const ctx = canvas.getContext('2d');\r\n\t// \tcanvas.style.width = '50%';\r\n\t// \tcanvas.style.height = '45%';\r\n\t// \treturn {\r\n\t// \t\tlabels: userStarredLabels,\r\n\t// \t\tdatasets: [\r\n\t// \t\t\t{\r\n\t// \t\t\t\t// label: 'File Breakdown',\r\n\t// \t\t\t\tdata: userStarredWorkflows,\r\n\t// \t\t\t\tbackgroundColor: [ '#DC1C13', '#F1959B' ],\r\n\t// \t\t\t\tborderWidth: 2,\r\n\t// \t\t\t\thoverBorderColor: 'black',\r\n\t// \t\t\t\tborderColor: 'white',\r\n\t// \t\t\t\tlabel: 'Hi'\r\n\t// \t\t\t}\r\n\t// \t\t]\r\n\t// \t};\r\n\t// };\r\n\r\n\t// const finishedBreakdownChart = (canvas) => {\r\n\t// \t// const ctx = canvas.getContext('2d');\r\n\t// \tcanvas.style.width = '50%';\r\n\t// \tcanvas.style.height = '45%';\r\n\t// \treturn {\r\n\t// \t\tlabels: userFinishedLabels,\r\n\t// \t\tdatasets: [\r\n\t// \t\t\t{\r\n\t// \t\t\t\tdata: userFinishedWorkflows,\r\n\t// \t\t\t\tbackgroundColor: [ '#DC1C13', '#F1959B' ],\r\n\t// \t\t\t\tborderWidth: 2,\r\n\t// \t\t\t\thoverBorderColor: 'black',\r\n\t// \t\t\t\tborderColor: 'white',\r\n\t// \t\t\t\tlabel: 'Hi'\r\n\t// \t\t\t}\r\n\t// \t\t]\r\n\t// \t};\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<main className={styles.statisticsContainer}>\r\n\t\t\t<div className={styles.dashboardMenuContainer}>\r\n\t\t\t\t<DashboardMenu />\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.statisticsSection}>\r\n\t\t\t\t<div className={styles.chart}>\r\n\t\t\t\t\t<DonutChart labels={userFilesLabels} breakdown={userFilesBreakdown} chartTitle={'File Breakdown'} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.chart}>\r\n\t\t\t\t\t<BarChart\r\n\t\t\t\t\t\tlabels={userFinishedLabels}\r\n\t\t\t\t\t\tbreakdown={userFinishedWorkflows}\r\n\t\t\t\t\t\tchartTitle={'Finished vs. Unfinished'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={styles.chart}>\r\n\t\t\t\t\t<LineChart\r\n\t\t\t\t\t\tlabels={descriptionLabels}\r\n\t\t\t\t\t\tbreakdown={descriptionData}\r\n\t\t\t\t\t\tchartTitle={'Length of Descriptions'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.chart}>\r\n\t\t\t\t\t<PieChart\r\n\t\t\t\t\t\tlabels={userStarredLabels}\r\n\t\t\t\t\t\tbreakdown={userStarredWorkflows}\r\n\t\t\t\t\t\tchartTitle={'Starred vs. Unstarred'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.chart}>\r\n\t\t\t\t\t<PolarChart\r\n\t\t\t\t\t\tlabels={userOriginalSharedLabels}\r\n\t\t\t\t\t\tbreakdown={userOriginalSharedWorkflows}\r\n\t\t\t\t\t\tchartTitle={'Your Workflows vs. Shared Workflows'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}