{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Sarthak\\\\YT_Workflow_Cloud\\\\client\\\\components\\\\WorkflowTitle.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRef, useState, useEffect } from 'react';\nimport styles from '../styles/scss/workflow-title.module.scss';\nimport { useSelector } from 'react-redux';\n\nvar WorkflowTitle = function WorkflowTitle(_ref) {\n  _s();\n\n  var oldTitle = _ref.oldTitle,\n      id = _ref.id;\n  var titleInput = useRef(null);\n  var jwtToken = useSelector(function (state) {\n    return state.jwtToken;\n  }); // const [ title, setTitle ] = useState(oldTitle);\n\n  var handleChange = function handleChange(e) {\n    console.log(titleInput.current.innerText);\n  };\n\n  useEffect(function () {\n    return function () {\n      alert(titleInput.current.innerText);\n      console.log(titleInput.current.innerText);\n      fetch(\"http://localhost:8000/set-workflow-title/\".concat(id), {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + jwtToken\n        },\n        body: JSON.stringify({\n          title: titleInput.current.innerText\n        })\n      });\n    };\n  }, [titleInput.current]);\n  return __jsx(\"h2\", {\n    contentEditable: \"plaintext-only\",\n    ref: titleInput,\n    className: styles.titleInput,\n    onInput: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 3\n    }\n  }, oldTitle ? oldTitle : 'Create title');\n};\n\n_s(WorkflowTitle, \"7LsNDlfHHxaE/GKhd7rQtv+3PlQ=\", false, function () {\n  return [useSelector];\n});\n\n_c = WorkflowTitle;\nexport default WorkflowTitle;\n\nvar _c;\n\n$RefreshReg$(_c, \"WorkflowTitle\");","map":{"version":3,"sources":["C:/Sarthak/YT_Workflow_Cloud/client/components/WorkflowTitle.js"],"names":["useRef","useState","useEffect","styles","useSelector","WorkflowTitle","oldTitle","id","titleInput","jwtToken","state","handleChange","e","console","log","current","innerText","alert","fetch","method","headers","Authorization","body","JSON","stringify","title"],"mappings":";;;;;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,2CAAnB;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAsB;AAAA;;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAAA,MAATC,EAAS,QAATA,EAAS;AAC3C,MAAMC,UAAU,GAAGR,MAAM,CAAC,IAAD,CAAzB;AACA,MAAMS,QAAQ,GAAGL,WAAW,CAAC,UAACM,KAAD;AAAA,WAAWA,KAAK,CAACD,QAAjB;AAAA,GAAD,CAA5B,CAF2C,CAG3C;;AAEA,MAAME,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAO;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAYN,UAAU,CAACO,OAAX,CAAmBC,SAA/B;AACA,GAFD;;AAIAd,EAAAA,SAAS,CACR,YAAM;AACL,WAAO,YAAM;AACZe,MAAAA,KAAK,CAACT,UAAU,CAACO,OAAX,CAAmBC,SAApB,CAAL;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYN,UAAU,CAACO,OAAX,CAAmBC,SAA/B;AACAE,MAAAA,KAAK,oDAA6CX,EAA7C,GAAmD;AACvDY,QAAAA,MAAM,EAAE,KAD+C;AAEvDC,QAAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAERC,UAAAA,aAAa,EAAE,YAAYZ;AAFnB,SAF8C;AAMvDa,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBC,UAAAA,KAAK,EAAEjB,UAAU,CAACO,OAAX,CAAmBC;AADN,SAAf;AANiD,OAAnD,CAAL;AAUA,KAbD;AAcA,GAhBO,EAiBR,CAAER,UAAU,CAACO,OAAb,CAjBQ,CAAT;AAoBA,SACC;AAAI,IAAA,eAAe,EAAC,gBAApB;AAAqC,IAAA,GAAG,EAAEP,UAA1C;AAAsD,IAAA,SAAS,EAAEL,MAAM,CAACK,UAAxE;AAAoF,IAAA,OAAO,EAAEG,YAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEL,QAAQ,GAAGA,QAAH,GAAc,cADxB,CADD;AAKA,CAlCD;;GAAMD,a;UAEYD,W;;;KAFZC,a;AAoCN,eAAeA,aAAf","sourcesContent":["import { useRef, useState, useEffect } from 'react';\r\nimport styles from '../styles/scss/workflow-title.module.scss';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst WorkflowTitle = ({ oldTitle, id }) => {\r\n\tconst titleInput = useRef(null);\r\n\tconst jwtToken = useSelector((state) => state.jwtToken);\r\n\t// const [ title, setTitle ] = useState(oldTitle);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tconsole.log(titleInput.current.innerText);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\treturn () => {\r\n\t\t\t\talert(titleInput.current.innerText);\r\n\t\t\t\tconsole.log(titleInput.current.innerText);\r\n\t\t\t\tfetch(`http://localhost:8000/set-workflow-title/${id}`, {\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + jwtToken\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\ttitle: titleInput.current.innerText\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ titleInput.current ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<h2 contentEditable=\"plaintext-only\" ref={titleInput} className={styles.titleInput} onInput={handleChange}>\r\n\t\t\t{oldTitle ? oldTitle : 'Create title'}\r\n\t\t</h2>\r\n\t);\r\n};\r\n\r\nexport default WorkflowTitle;\r\n"]},"metadata":{},"sourceType":"module"}