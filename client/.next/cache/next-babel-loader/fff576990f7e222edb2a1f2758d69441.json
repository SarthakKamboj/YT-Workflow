{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Sarthak\\\\YT_Workflow_Cloud\\\\client\\\\pages\\\\workflow\\\\[id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n// import { useDispatch } from 'react-redux';\n// import { jwt } from '../../components/JWT';\nimport Router from 'next/router';\nimport { useState, useEffect } from 'react-router'; // const dispatch = useDispatch();\n\nvar Workflow = function Workflow() {\n  _s();\n\n  console.log(Router.pathname);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileUrls = _useState2[0],\n      setFileUrls = _useState2[1];\n\n  var id = Router.query.id;\n  useEffect(function () {\n    fetch(\"http://127.0.0.1:8000/get-workflow-files/\".concat(id)).then(function (res) {\n      return res.json();\n    }).then(function (filesJson) {\n      return setFileUrls(filesJson['workflow-file-urls']);\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n    setFileUrls(filesJson['workflow-file-urls']);\n  }, []); // console.log('hi');\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, \"Workflow \", id);\n};\n\n_s(Workflow, \"lVsEDnM/0wwjsA2jt/hSNr4rqBs=\");\n\n_c = Workflow;\nexport var __N_SSG = true;\nexport default Workflow;\n\nvar _c;\n\n$RefreshReg$(_c, \"Workflow\");","map":{"version":3,"sources":["C:/Sarthak/YT_Workflow_Cloud/client/pages/workflow/[id].js"],"names":["Router","useState","useEffect","Workflow","console","log","pathname","fileUrls","setFileUrls","id","query","fetch","then","res","json","filesJson","err"],"mappings":";;;;;;;;AAAA;AACA;AACA,OAAOA,MAAP,MAAmB,aAAnB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,cAApC,C,CAEA;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACM,QAAnB;;AADsB,kBAGYL,QAAQ,CAAC,EAAD,CAHpB;AAAA;AAAA,MAGdM,QAHc;AAAA,MAGJC,WAHI;;AAItB,MAAMC,EAAE,GAAGT,MAAM,CAACU,KAAP,CAAaD,EAAxB;AAEAP,EAAAA,SAAS,CAAC,YAAM;AACfS,IAAAA,KAAK,oDAA6CF,EAA7C,EAAL,CACEG,IADF,CACO,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KADP,EAEEF,IAFF,CAEO,UAACG,SAAD;AAAA,aAAeP,WAAW,CAACO,SAAS,CAAC,oBAAD,CAAV,CAA1B;AAAA,KAFP,WAGQ,UAACC,GAAD;AAAA,aAASZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAAT;AAAA,KAHR;AAIAR,IAAAA,WAAW,CAACO,SAAS,CAAC,oBAAD,CAAV,CAAX;AACA,GANQ,EAMN,EANM,CAAT,CANsB,CActB;;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAeN,EAAf,CAAP;AACA,CAhBD;;GAAMN,Q;;KAAAA,Q;;AAyDN,eAAeA,QAAf","sourcesContent":["// import { useDispatch } from 'react-redux';\r\n// import { jwt } from '../../components/JWT';\r\nimport Router from 'next/router';\r\nimport { useState, useEffect } from 'react-router';\r\n\r\n// const dispatch = useDispatch();\r\n\r\nconst Workflow = () => {\r\n\tconsole.log(Router.pathname);\r\n\r\n\tconst [ fileUrls, setFileUrls ] = useState([]);\r\n\tconst id = Router.query.id;\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`http://127.0.0.1:8000/get-workflow-files/${id}`)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((filesJson) => setFileUrls(filesJson['workflow-file-urls']))\r\n\t\t\t.catch((err) => console.log(err));\r\n\t\tsetFileUrls(filesJson['workflow-file-urls']);\r\n\t}, []);\r\n\r\n\t// console.log('hi');\r\n\treturn <div>Workflow {id}</div>;\r\n};\r\n\r\nexport async function getStaticProps({ params }) {\r\n\tconsole.log('props');\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\tid: params.id\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n\t// const workflowIds = localStorage.getItem('workflowIds');\r\n\t// const jwt = localStorage.getItem('jwt');\r\n\tconst jwt =\r\n\t\t'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNTkyMzMyOTI1LCJqdGkiOiIyNzhiMjAyMTQyNTY0MWIxYTc5NjJmNGE4NzI2ZjcwNSIsInVzZXJfaWQiOjQ1fQ.rGAuQaDnBaueRKcE6ZE4t7Ym4Y-HbHqFYn-k-iWr1-0'; // console.log(jwtToken);\r\n\tconsole.log(jwt);\r\n\tconst workflowIdsResponse = await fetch('http://localhost:8000/get-workflow-ids', {\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\tAuthorization: `Bearer ${jwt}`\r\n\t\t}\r\n\t});\r\n\tconst workflowIdsJson = await workflowIdsResponse.json();\r\n\tconsole.log(workflowIdsJson);\r\n\tconst workflowIdsArray = await workflowIdsJson['workflow-ids'];\r\n\tconsole.log(workflowIdsArray);\r\n\tconst paths = workflowIdsArray.map((workflowId) => {\r\n\t\treturn {\r\n\t\t\tparams: {\r\n\t\t\t\tid: workflowId.toString()\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\tconsole.log(paths);\r\n\treturn {\r\n\t\tpaths,\r\n\t\tfallback: false\r\n\t};\r\n}\r\n\r\nexport default Workflow;\r\n"]},"metadata":{},"sourceType":"module"}